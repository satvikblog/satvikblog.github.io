{"title":"Sub Domain Enumeration - THM Walkthrough","uid":"5a327520fa9108575adc8c8430f6b8a0","slug":"THM/WEB/Sub-Domain-Enumeration-THM-Walkthrough","date":"2024-05-28T12:45:16.000Z","updated":"2024-05-31T10:33:54.956Z","comments":true,"path":"api/articles/THM/WEB/Sub-Domain-Enumeration-THM-Walkthrough.json","keywords":null,"cover":"https://tryhackme-images.s3.amazonaws.com/room-icons/609f307f6fa5f1f7f39d50154d0d1db3.png","content":"<p><strong>Hello Hackers</strong> üíå<br>Today we are going to walkthrough a new room called ‚Äú Sub Domain Eneumeration‚Äù on TryHackMe<br>Lets start üöÄ</p>\n<h1 id=\"TASK-1-Brief\"><a href=\"#TASK-1-Brief\" class=\"headerlink\" title=\"TASK 1 - Brief\"></a>TASK 1 - Brief</h1><p>Subdomain enumeration is the process of finding valid subdomains for a domain, but why do we do this? We do this to expand our attack surface to try and discover more potential points of vulnerability.</p>\n<p>We will explore three different subdomain enumeration methods: Brute Force, OSINT (Open-Source Intelligence) and Virtual Host.</p>\n<p>Start the machine and then move onto the next task.</p>\n<h2 id=\"Questions-and-Answers-in-the-task\"><a href=\"#Questions-and-Answers-in-the-task\" class=\"headerlink\" title=\"Questions and Answers in the task\"></a>Questions and Answers in the task</h2><p><strong>1. What is a subdomain enumeration method beginning with B?</strong><br>Answer: <code>Brute Force</code><br><strong>2. What is a subdomain enumeration method beginning with O?</strong><br>Answer: <code>OSINT</code><br><strong>3. What is a subdomain enumeration method beginning with V?</strong><br>Answer: <code>Virtual Hosts</code></p>\n<h1 id=\"TASK-2-OSINT-SSL-TLS-Certificates\"><a href=\"#TASK-2-OSINT-SSL-TLS-Certificates\" class=\"headerlink\" title=\"TASK 2 - OSINT - SSL&#x2F;TLS Certificates\"></a>TASK 2 - OSINT - SSL&#x2F;TLS Certificates</h1><p><strong>SSL&#x2F;TLS Certificates</strong></p>\n<p>When an SSL&#x2F;TLS (Secure Sockets Layer&#x2F;Transport Layer Security) certificate is created for a domain by a CA (Certificate Authority), CA‚Äôs take part in what‚Äôs called ‚ÄúCertificate Transparency (CT) logs‚Äù. These are publicly accessible logs of every SSL&#x2F;TLS certificate created for a domain name. The purpose of Certificate Transparency logs is to stop malicious and accidentally made certificates from being used. We can use this service to our advantage to discover subdomains belonging to a domain, sites like <a href=\"https://crt.sh/\">https://crt.sh</a> and <a href=\"https://ui.ctsearch.entrust.com/ui/ctsearchui\">https://ui.ctsearch.entrust.com/ui/ctsearchui</a> offer a searchable database of certificates that shows current and historical results.</p>\n<p>Go to crt.sh and search for the domain name tryhackme.com, find the entry that was logged at 2020-12-26 and enter the domain below to answer the question.</p>\n<h2 id=\"Questions-and-Answers-in-the-task-1\"><a href=\"#Questions-and-Answers-in-the-task-1\" class=\"headerlink\" title=\"Questions and Answers in the task\"></a>Questions and Answers in the task</h2><p><strong>1. What domain was logged on crt.sh at 2020-12-26?</strong><br>Answer:</p>\n<ul>\n<li>Lets visit crt.sh website and search for the records on 2020-12-26</li>\n</ul>\n<p><img src=\"https://dl.dropbox.com/scl/fi/34j4rulq0aoh0g6u7n34r/s1.png?rlkey=ynll1xrhohuxdfhz4y2qjz05z&st=v37giaaa&dl=0\" alt=\"s1\"></p>\n<ul>\n<li>Domain : <code> store.tryhackme.com</code></li>\n</ul>\n<h1 id=\"TASK-3-OSINT-Search-Engines\"><a href=\"#TASK-3-OSINT-Search-Engines\" class=\"headerlink\" title=\"TASK 3 - OSINT - Search Engines\"></a>TASK 3 - OSINT - Search Engines</h1><p><strong>Search Engines üßë‚Äçüíª</strong></p>\n<p>Search engines contain trillions of links to more than a billion websites, which can be an excellent resource for finding new subdomains. Using advanced search methods on websites like Google, such as the site: filter, can narrow the search results. For example, ‚Äú-site:<a href=\"http://www.domain.com/\">www.domain.com</a> site:*.domain.com‚Äù would only contain results leading to the domain name domain.com but exclude any links to <a href=\"http://www.domain.com/\">www.domain.com</a>; therefore, it shows us only subdomain names belonging to domain.com.</p>\n<p>Go to Google and use the search term -site:<a href=\"http://www.tryhackme.com/\">www.tryhackme.com</a>  site:*.tryhackme.com, which should reveal a subdomain for tryhackme.com; use that subdomain to answer the question below.</p>\n<h2 id=\"Questions-and-answers-in-the-task\"><a href=\"#Questions-and-answers-in-the-task\" class=\"headerlink\" title=\"Questions and answers in the task\"></a>Questions and answers in the task</h2><p><strong>1. What is the TryHackMe subdomain beginning with S discovered using the above Google search?</strong><br>Answer:</p>\n<ul>\n<li>Go to google and search for <code>-site:www.tryhackme.com  site:*.tryhackme.com</code></li>\n<li><img src=\"https://dl.dropbox.com/scl/fi/99zeb3hw72eqbtfpb0tvd/s2.png?rlkey=xkf4wasr1ibffa11mp6cqcavb&st=b4b5bnpa&dl=0\" alt=\"s2\"></li>\n<li><code>store.tryhackme.com</code></li>\n</ul>\n<h1 id=\"TASK-4-DNS-Bruteforce\"><a href=\"#TASK-4-DNS-Bruteforce\" class=\"headerlink\" title=\"TASK 4 - DNS Bruteforce\"></a>TASK 4 - DNS Bruteforce</h1><p>Bruteforce DNS (Domain Name System) enumeration is the method of trying tens, hundreds, thousands or even millions of different possible subdomains from a pre-defined list of commonly used subdomains. Because this method requires many requests, we automate it with tools to make the process quicker. In this instance, we are using a tool called dnsrecon to perform this. Click the ‚ÄúView Site‚Äù button to open the static site, press the ‚ÄúRun DNSrecon Request‚Äù button to start the simulation, and then answer the question below.</p>\n<h2 id=\"Questions-and-answers-in-the-task-1\"><a href=\"#Questions-and-answers-in-the-task-1\" class=\"headerlink\" title=\"Questions and answers in the task\"></a>Questions and answers in the task</h2><p><strong>1. What is the first subdomain found with the dnsrecon tool?</strong><br>Answers:</p>\n<ul>\n<li>click on <code>view site</code> and the click on <code>run DNSRecon</code> button<br><img src=\"https://dl.dropbox.com/scl/fi/1xdxg0a7cn7jqsane7etc/s3.png?rlkey=6u4lswgj4zyu0n06wk4damkvi&st=38krpeg0&dl=0\" alt=\"s3\"></li>\n<li>answer: <code>api.acmeitsupport.thm</code></li>\n</ul>\n<h1 id=\"TASK-5-OSINT-Sublist3r\"><a href=\"#TASK-5-OSINT-Sublist3r\" class=\"headerlink\" title=\"TASK 5 - OSINT - Sublist3r\"></a>TASK 5 - OSINT - Sublist3r</h1><p>Automation Using Sublist3r<br>To speed up the process of OSINT subdomain discovery, we can automate the above methods with the help of tools like Sublist3r, click the ‚ÄúView Site‚Äù button to open up the static site and run the sublist3r simulation to discover a new subdomain that will help answer the question below.</p>\n<p>**Questions and Answers in the task</p>\n<p><strong>1. What is the first subdomain discovered by sublist3r?</strong><br>Answer:</p>\n<ul>\n<li><code>click on vew site</code> and then click on <code>Run sublist3r</code></li>\n</ul>\n<p><img src=\"https://dl.dropbox.com/scl/fi/sun7vdqeex6p2okg5x0v6/s4.png?rlkey=xa75xiyjnx8neu4v2ox1orcd4&st=mrqu08pw&dl=0\" alt=\"s4\"></p>\n<ul>\n<li>answer: <code>web55.acmeitsupport.thm</code></li>\n</ul>\n<h1 id=\"TASK-6-Virtual-Hosts\"><a href=\"#TASK-6-Virtual-Hosts\" class=\"headerlink\" title=\"TASK 6 - Virtual Hosts\"></a>TASK 6 - Virtual Hosts</h1><p>Some subdomains aren‚Äôt always hosted in publically accessible DNS results, such as development versions of a web application or administration portals. Instead, the DNS record could be kept on a private DNS server or recorded on the developer‚Äôs machines in their &#x2F;etc&#x2F;hosts file (or c:\\windows\\system32\\drivers\\etc\\hosts file for Windows users) which maps domain names to IP addresses. </p>\n<p>Because web servers can host multiple websites from one server when a website is requested from a client, the server knows which website the client wants from the Host header. We can utilise this host header by making changes to it and monitoring the response to see if we‚Äôve discovered a new website.</p>\n<p>Like with DNS Bruteforce, we can automate this process by using a wordlist of commonly used subdomains.</p>\n<p>Start an AttackBox and then try the following command against the Acme IT Support machine to try and discover a new subdomain.</p>\n<p>ffuf</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">user@machine$ ffuf -w /usr/share/wordlists/SecLists/Discovery/DNS/namelist.txt -H <span class=\"string\">&quot;Host: FUZZ.acmeitsupport.thm&quot;</span> -u http://MACHINE_IP</span><br></pre></td></tr></table></figure>\n<p>The above command uses the -w switch to specify the wordlist we are going to use. The -H switch adds&#x2F;edits a header (in this instance, the Host header), we have the FUZZ keyword in the space where a subdomain would normally go, and this is where we will try all the options from the wordlist.</p>\n<p>Because the above command will always produce a valid result, we need to filter the output. We can do this by using the page size result with the -fs switch. Edit the below command replacing {size} with the most occurring size value from the previous result and try it on the AttackBox.<br>ffuf</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">user@machine$ ffuf -w /usr/share/wordlists/SecLists/Discovery/DNS/namelist.txt -H <span class=\"string\">&quot;Host: FUZZ.acmeitsupport.thm&quot;</span> -u http://MACHINE_IP -fs &#123;size&#125;</span><br></pre></td></tr></table></figure>\n<p>This command has a similar syntax to the first apart from the -fs switch, which tells ffuf to ignore any results that are of the specified size.</p>\n<p>The above command should have revealed two positive results that we haven‚Äôt come across before.</p>\n<h2 id=\"Questions-and-Answers-in-the-task-2\"><a href=\"#Questions-and-Answers-in-the-task-2\" class=\"headerlink\" title=\"Questions and Answers in the task\"></a>Questions and Answers in the task</h2><p><strong>1. What is the first subdomain discovered?</strong><br>Answer: </p>\n<ul>\n<li>Run the following command to find subdomain </li>\n<li>command: <code>ffuf -w namelist.txt -H &quot;Host: FUZZ.acmeitsupport.thm&quot; -u http://10.10.186.57 -fs 2395</code></li>\n</ul>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:1100/format:webp/1*snYTebPbNAJg5QqgxdNm0w.png\" alt=\"i\"></p>\n<ul>\n<li>domain: <code>delta</code></li>\n</ul>\n<p><strong>2. What is the second subdomain discovered?</strong><br>Answer: <code>yellow</code></p>\n<p><strong>Thank You</strong> üíå<br><strong>Author:</strong> <code>Satvik Shetty</code>üßë‚Äçüíª<br><strong>See you again in another writeup</strong></p>\n","text":"Hello Hackers üíåToday we are going to walkthrough a new room called ‚Äú Sub Domain ...","permalink":"/post/THM/WEB/Sub-Domain-Enumeration-THM-Walkthrough","photos":[],"count_time":{"symbolsCount":"6.6k","symbolsTime":"6 mins."},"categories":[{"name":"cybersecurity","slug":"cybersecurity","count":21,"path":"api/categories/cybersecurity.json"},{"name":"THM","slug":"cybersecurity/THM","count":20,"path":"api/categories/cybersecurity/THM.json"},{"name":"web","slug":"cybersecurity/THM/web","count":13,"path":"api/categories/cybersecurity/THM/web.json"}],"tags":[{"name":"tryhackme","slug":"tryhackme","count":20,"path":"api/tags/tryhackme.json"},{"name":"web","slug":"web","count":13,"path":"api/tags/web.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#TASK-1-Brief\"><span class=\"toc-text\">TASK 1 - Brief</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Questions-and-Answers-in-the-task\"><span class=\"toc-text\">Questions and Answers in the task</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#TASK-2-OSINT-SSL-TLS-Certificates\"><span class=\"toc-text\">TASK 2 - OSINT - SSL&#x2F;TLS Certificates</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Questions-and-Answers-in-the-task-1\"><span class=\"toc-text\">Questions and Answers in the task</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#TASK-3-OSINT-Search-Engines\"><span class=\"toc-text\">TASK 3 - OSINT - Search Engines</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Questions-and-answers-in-the-task\"><span class=\"toc-text\">Questions and answers in the task</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#TASK-4-DNS-Bruteforce\"><span class=\"toc-text\">TASK 4 - DNS Bruteforce</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Questions-and-answers-in-the-task-1\"><span class=\"toc-text\">Questions and answers in the task</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#TASK-5-OSINT-Sublist3r\"><span class=\"toc-text\">TASK 5 - OSINT - Sublist3r</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#TASK-6-Virtual-Hosts\"><span class=\"toc-text\">TASK 6 - Virtual Hosts</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Questions-and-Answers-in-the-task-2\"><span class=\"toc-text\">Questions and Answers in the task</span></a></li></ol></li></ol>","author":{"name":"Satvik","slug":"blog-author","avatar":"https://dl.dropbox.com/scl/fi/00hpz9sf96v4gugpvx7t9/profile.jpg?rlkey=yet0g0rb9ofkl806vvhmkjail&st=3rw0pj88&dl=0","link":"https://dl.dropbox.com/scl/fi/00hpz9sf96v4gugpvx7t9/profile.jpg?rlkey=yet0g0rb9ofkl806vvhmkjail&st=3rw0pj88&dl=0","description":"An Aspiring Penetration Tester & a security Enthusiast üöÄ 127.0.0.1 / sudo rm -rf / üòÅ Dont Drink and Root üëÄ","socials":{"github":"https://github.com/satvikblog","twitter":"https://twitter.com/anonbash1","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"instagram":{"icon":"fab fa-instagram","link":"https://instagram.com/satvikshetty.v"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"Authentication Bypass - THM Walkthrough","uid":"b98fdad01f5200d25c912ff8eb29e414","slug":"THM/WEB/Authentication-Bypass-THM-Walkthrough","date":"2024-06-03T10:20:32.000Z","updated":"2024-06-11T10:09:19.402Z","comments":true,"path":"api/articles/THM/WEB/Authentication-Bypass-THM-Walkthrough.json","keywords":null,"cover":"https://tryhackme-images.s3.amazonaws.com/room-icons/098ee61b8842b7e6fc27e9eea9d7e1dc.png","text":"Hello Hackers üíåToday we are going to walkthrough a new room called Authenticatio...","permalink":"/post/THM/WEB/Authentication-Bypass-THM-Walkthrough","photos":[],"count_time":{"symbolsCount":"15k","symbolsTime":"14 mins."},"categories":[{"name":"cybersecurity","slug":"cybersecurity","count":21,"path":"api/categories/cybersecurity.json"},{"name":"THM","slug":"cybersecurity/THM","count":20,"path":"api/categories/cybersecurity/THM.json"},{"name":"web","slug":"cybersecurity/THM/web","count":13,"path":"api/categories/cybersecurity/THM/web.json"}],"tags":[{"name":"tryhackme","slug":"tryhackme","count":20,"path":"api/tags/tryhackme.json"},{"name":"web","slug":"web","count":13,"path":"api/tags/web.json"}],"author":{"name":"Satvik","slug":"blog-author","avatar":"https://dl.dropbox.com/scl/fi/00hpz9sf96v4gugpvx7t9/profile.jpg?rlkey=yet0g0rb9ofkl806vvhmkjail&st=3rw0pj88&dl=0","link":"https://dl.dropbox.com/scl/fi/00hpz9sf96v4gugpvx7t9/profile.jpg?rlkey=yet0g0rb9ofkl806vvhmkjail&st=3rw0pj88&dl=0","description":"An Aspiring Penetration Tester & a security Enthusiast üöÄ 127.0.0.1 / sudo rm -rf / üòÅ Dont Drink and Root üëÄ","socials":{"github":"https://github.com/satvikblog","twitter":"https://twitter.com/anonbash1","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"instagram":{"icon":"fab fa-instagram","link":"https://instagram.com/satvikshetty.v"}}}}},"next_post":{"title":"Linux Fundamentals Module - HTB","uid":"4c017bf823830f33adecd64aa365ea2f","slug":"HTB/Linux-Fundamentals-Module-HTB","date":"2024-05-27T17:47:53.000Z","updated":"2024-06-03T14:45:37.981Z","comments":true,"path":"api/articles/HTB/Linux-Fundamentals-Module-HTB.json","keywords":null,"cover":"https://i0.wp.com/letslearnabout.net/wp-content/uploads/2023/06/image-6.png?resize=810%2C456&ssl=1","text":"Linux StructureHistoryMany events led up to creating the first Linux kernel and,...","permalink":"/post/HTB/Linux-Fundamentals-Module-HTB","photos":[],"count_time":{"symbolsCount":"35k","symbolsTime":"31 mins."},"categories":[{"name":"cybersecurity","slug":"cybersecurity","count":21,"path":"api/categories/cybersecurity.json"},{"name":"HTB","slug":"cybersecurity/HTB","count":1,"path":"api/categories/cybersecurity/HTB.json"},{"name":"Linux","slug":"cybersecurity/HTB/Linux","count":1,"path":"api/categories/cybersecurity/HTB/Linux.json"}],"tags":[{"name":"cybersecurity","slug":"cybersecurity","count":2,"path":"api/tags/cybersecurity.json"},{"name":"Linux","slug":"Linux","count":1,"path":"api/tags/Linux.json"}],"author":{"name":"Satvik","slug":"blog-author","avatar":"https://dl.dropbox.com/scl/fi/00hpz9sf96v4gugpvx7t9/profile.jpg?rlkey=yet0g0rb9ofkl806vvhmkjail&st=3rw0pj88&dl=0","link":"https://dl.dropbox.com/scl/fi/00hpz9sf96v4gugpvx7t9/profile.jpg?rlkey=yet0g0rb9ofkl806vvhmkjail&st=3rw0pj88&dl=0","description":"An Aspiring Penetration Tester & a security Enthusiast üöÄ 127.0.0.1 / sudo rm -rf / üòÅ Dont Drink and Root üëÄ","socials":{"github":"https://github.com/satvikblog","twitter":"https://twitter.com/anonbash1","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"instagram":{"icon":"fab fa-instagram","link":"https://instagram.com/satvikshetty.v"}}}}}}